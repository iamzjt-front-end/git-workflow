# Stash å‘½ä»¤

Stash ç®¡ç†ç›¸å…³çš„å‘½ä»¤è¯¦è§£ã€‚

## ğŸ“‹ å‘½ä»¤æ¦‚è§ˆ

| å‘½ä»¤ | åˆ«å | è¯´æ˜ |
|------|------|------|
| `gw stash` | `gw s`, `gw st` | äº¤äº’å¼ç®¡ç† stash |

## ğŸ’¾ Stash ç®¡ç†

### åŸºæœ¬ç”¨æ³•

```bash
gw stash
gw s
gw st
```

### ä¸»ç•Œé¢

```bash
$ gw s
ğŸ’¾ Stash ç®¡ç†

å…± 3 ä¸ª stash:

? é€‰æ‹© stash:
â¯ [0] main fix login bug (3 æ–‡ä»¶) 2 hours ago
  [1] develop add new feature (5 æ–‡ä»¶) 1 day ago
  [2] main WIP (1 æ–‡ä»¶) 3 days ago
  + åˆ›å»ºæ–° stash
  å–æ¶ˆ
```

## ğŸ“‹ Stash è¯¦æƒ…

é€‰æ‹©ä¸€ä¸ª stash åæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼š

```bash
Stash #0
åˆ†æ”¯: main
æ¶ˆæ¯: fix login bug
æ—¶é—´: 2 hours ago
æ–‡ä»¶ (3):
  â€¢ src/auth.ts
  â€¢ src/login.ts
  â€¢ tests/auth.test.ts
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
? æ“ä½œ:
â¯ åº”ç”¨ (ä¿ç•™ stash)
  å¼¹å‡º (åº”ç”¨å¹¶åˆ é™¤)
  åˆ›å»ºåˆ†æ”¯
  æŸ¥çœ‹å·®å¼‚
  åˆ é™¤
  è¿”å›åˆ—è¡¨
  å–æ¶ˆ
```

## ğŸ”§ Stash æ“ä½œ

### åº”ç”¨ Stash

**åº”ç”¨ (ä¿ç•™ stash)**ï¼š
- å°† stash çš„æ›´æ”¹åº”ç”¨åˆ°å½“å‰å·¥ä½œåŒº
- ä¿ç•™ stashï¼Œå¯ä»¥é‡å¤åº”ç”¨
- ç­‰åŒäº `git stash apply`

**å¼¹å‡º (åº”ç”¨å¹¶åˆ é™¤)**ï¼š
- å°† stash çš„æ›´æ”¹åº”ç”¨åˆ°å½“å‰å·¥ä½œåŒº
- åˆ é™¤è¯¥ stash
- ç­‰åŒäº `git stash pop`

### åˆ›å»ºåˆ†æ”¯

ä» stash åˆ›å»ºæ–°åˆ†æ”¯ï¼š

```bash
? æ“ä½œ: åˆ›å»ºåˆ†æ”¯

? é€‰æ‹©åˆ†æ”¯ç±»å‹:
â¯ Feature åˆ†æ”¯
  Hotfix åˆ†æ”¯

? è¯·è¾“å…¥ Story ID (å¯è·³è¿‡): STASH-123
? è¯·è¾“å…¥æè¿°: restore-login-fix

âœ” åˆ†æ”¯åˆ›å»ºæˆåŠŸ: feature/20260111-STASH-123-restore-login-fix
âœ” Stash å·²åº”ç”¨åˆ°æ–°åˆ†æ”¯
âœ” Stash å·²åˆ é™¤: stash@{0}
```

### æŸ¥çœ‹å·®å¼‚

æ˜¾ç¤º stash åŒ…å«çš„å…·ä½“æ›´æ”¹ï¼š

```bash
? æ“ä½œ: æŸ¥çœ‹å·®å¼‚

diff --git a/src/auth.ts b/src/auth.ts
index 1234567..abcdefg 100644
--- a/src/auth.ts
+++ b/src/auth.ts
@@ -10,6 +10,10 @@ export function login(username: string, password: string) {
   if (!username || !password) {
     throw new Error('ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º');
   }
+  
+  // æ·»åŠ è¾“å…¥éªŒè¯
+  if (username.length < 3) {
+    throw new Error('ç”¨æˆ·åè‡³å°‘éœ€è¦3ä¸ªå­—ç¬¦');
+  }
 }

æŒ‰ä»»æ„é”®è¿”å›...
```

### åˆ é™¤ Stash

```bash
? æ“ä½œ: åˆ é™¤

? ç¡®è®¤åˆ é™¤ stash "fix login bug"?
â¯ æ˜¯
  å¦

âœ” Stash å·²åˆ é™¤: stash@{0}
```

## â• åˆ›å»º Stash

### åŸºæœ¬åˆ›å»º

```bash
? é€‰æ‹© stash: + åˆ›å»ºæ–° stash

æ£€æµ‹åˆ°ä»¥ä¸‹æ›´æ”¹:
  M src/auth.ts
  M src/login.ts
  ?? src/new-file.ts

? è¾“å…¥ stash æ¶ˆæ¯: WIP: é‡æ„ç™»å½•é€»è¾‘

? æ˜¯å¦åŒ…å«æœªè·Ÿè¸ªçš„æ–‡ä»¶?
â¯ æ˜¯ï¼ŒåŒ…å«æ‰€æœ‰æ–‡ä»¶
  å¦ï¼Œä»…å·²è·Ÿè¸ªæ–‡ä»¶

âœ” Stash åˆ›å»ºæˆåŠŸ: stash@{0}
```

### å¤„ç†æœªè·Ÿè¸ªæ–‡ä»¶

å·¥å…·ä¼šæ™ºèƒ½æ£€æµ‹æœªè·Ÿè¸ªçš„æ–°æ–‡ä»¶ï¼š

```bash
æ£€æµ‹åˆ°æœªè·Ÿè¸ªçš„æ–‡ä»¶:
  ?? src/new-component.ts
  ?? tests/new-test.ts

? æ˜¯å¦ä¸€å¹¶ stash è¿™äº›æ–°æ–‡ä»¶?
â¯ æ˜¯ï¼ŒåŒ…å«æ–°æ–‡ä»¶
  å¦ï¼Œå¿½ç•¥æ–°æ–‡ä»¶
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### ä¸´æ—¶åˆ‡æ¢åˆ†æ”¯

```bash
# å½“å‰åœ¨ feature åˆ†æ”¯å¼€å‘ï¼Œéœ€è¦ç´§æ€¥ä¿®å¤ bug
gw s
# é€‰æ‹© "åˆ›å»ºæ–° stash"
# è¾“å…¥æ¶ˆæ¯: "WIP: ç”¨æˆ·ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­"

# åˆ‡æ¢åˆ° main åˆ†æ”¯ä¿®å¤ bug
git checkout main
gw h  # åˆ›å»º hotfix åˆ†æ”¯

# ä¿®å¤å®Œæˆåï¼Œå›åˆ° feature åˆ†æ”¯
git checkout feature/user-management
gw s  # æ¢å¤ä¹‹å‰çš„å·¥ä½œ
```

### å®éªŒæ€§æ›´æ”¹

```bash
# å°è¯•æ–°çš„å®ç°æ–¹æ¡ˆ
# ... ç¼–å†™ä»£ç  ...

# ä¸ç¡®å®šæ˜¯å¦è¦ä¿ç•™ï¼Œå…ˆ stash
gw s
# åˆ›å»º stash: "å®éªŒ: æ–°çš„æ•°æ®å¤„ç†æ–¹æ¡ˆ"

# å°è¯•å…¶ä»–æ–¹æ¡ˆ
# ... ç¼–å†™ä»£ç  ...

# å¯¹æ¯”ä¸¤ç§æ–¹æ¡ˆ
gw s
# æŸ¥çœ‹ä¹‹å‰çš„ stash å·®å¼‚
```

### ä»£ç å®¡æŸ¥å‡†å¤‡

```bash
# å¼€å‘å®Œæˆï¼Œå‡†å¤‡æäº¤å‰æ•´ç†ä»£ç 
gw s
# åˆ›å»º stash: "ä¸´æ—¶: è°ƒè¯•ä»£ç å’Œæ³¨é‡Š"

# æ¸…ç†ä»£ç ï¼Œç§»é™¤è°ƒè¯•ä¿¡æ¯
# ... æ•´ç†ä»£ç  ...

# æäº¤å¹²å‡€çš„ä»£ç 
gw c

# å¦‚æœéœ€è¦ï¼Œå¯ä»¥æ¢å¤è°ƒè¯•ä»£ç 
gw s
# åº”ç”¨ä¹‹å‰çš„ stash
```

## ğŸ”„ ä¸åŸç”Ÿ Git å¯¹æ¯”

### åŸç”Ÿ Git Stash

```bash
# åŸç”Ÿå‘½ä»¤
git stash list
git stash show stash@{0}
git stash apply stash@{0}
git stash pop stash@{0}
git stash drop stash@{0}
git stash branch new-branch stash@{0}
```

è¾“å‡ºéš¾ä»¥é˜…è¯»ï¼š
```bash
$ git stash list
stash@{0}: WIP on main: 1234567 fix login bug
stash@{1}: WIP on develop: abcdefg add new feature
stash@{2}: WIP on main: 7890123 work in progress
```

### Git Workflow Stash

```bash
# ç»Ÿä¸€å‘½ä»¤
gw s
```

æ¸…æ™°çš„äº¤äº’ç•Œé¢ï¼š
```bash
å…± 3 ä¸ª stash:

? é€‰æ‹© stash:
â¯ [0] main fix login bug (3 æ–‡ä»¶) 2 hours ago
  [1] develop add new feature (5 æ–‡ä»¶) 1 day ago
  [2] main WIP (1 æ–‡ä»¶) 3 days ago
```

## ğŸš€ æœ€ä½³å®è·µ

### Stash å‘½åè§„èŒƒ

**æ¨èæ ¼å¼ï¼š**
```
WIP: åŠŸèƒ½æè¿°
å®éªŒ: å°è¯•å†…å®¹
ä¸´æ—¶: ä¸´æ—¶æ›´æ”¹è¯´æ˜
è°ƒè¯•: è°ƒè¯•ç›¸å…³æ›´æ”¹
```

**ç¤ºä¾‹ï¼š**
```
WIP: ç”¨æˆ·æƒé™ç®¡ç†åŠŸèƒ½
å®éªŒ: ä½¿ç”¨ Redis ç¼“å­˜
ä¸´æ—¶: æ·»åŠ è°ƒè¯•æ—¥å¿—
è°ƒè¯•: ä¿®å¤ç™»å½•é—®é¢˜
```

### å®šæœŸæ¸…ç†

1. **åŠæ—¶åº”ç”¨** - å®Œæˆå·¥ä½œååŠæ—¶åº”ç”¨ stash
2. **åˆ é™¤æ— ç”¨** - å®šæœŸåˆ é™¤ä¸å†éœ€è¦çš„ stash
3. **è½¬ä¸ºåˆ†æ”¯** - é•¿æœŸä¿ç•™çš„æ›´æ”¹è€ƒè™‘åˆ›å»ºåˆ†æ”¯

### å›¢é˜Ÿåä½œ

1. **ä¸è¦ä¾èµ–** - stash æ˜¯æœ¬åœ°çš„ï¼Œä¸è¦ä¾èµ–å®ƒè¿›è¡Œå›¢é˜Ÿåä½œ
2. **åŠæ—¶æäº¤** - é‡è¦æ›´æ”¹åº”è¯¥æäº¤è€Œä¸æ˜¯ stash
3. **æ¸…æ™°å‘½å** - ä½¿ç”¨æ¸…æ™°çš„ stash æ¶ˆæ¯

### å·¥ä½œæµé›†æˆ

```bash
# 1. å¼€å‘è¿‡ç¨‹ä¸­ä¸´æ—¶ä¿å­˜
gw s  # åˆ›å»º stash

# 2. å¤„ç†å…¶ä»–ä»»åŠ¡
# ... å…¶ä»–å·¥ä½œ ...

# 3. æ¢å¤å·¥ä½œ
gw s  # åº”ç”¨ stash

# 4. å®Œæˆå¼€å‘
gw c  # æäº¤ä»£ç 

# 5. æ¸…ç† stash
gw s  # åˆ é™¤ä¸éœ€è¦çš„ stash
```